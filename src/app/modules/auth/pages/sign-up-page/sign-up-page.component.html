<div class="sign-up">
  <header class="header">
    <h1 class="title not-italic font-normal leading-9 mb-0">Get Started</h1>
    <p class="content not-italic font-normal text-base" *ngIf="!redirectMode">
      Already have an account?
      <span class="noborder-button" (click)="navigateToSignIn()">Sign in</span>
    </p>
  </header>
  <main>
    <form class="form-signup w-full" [formGroup]="signUpForm">
      <div class="input-field relative pb-9 error-active">
        <div class="relative">
          <div
            tabindex="1"
            class="input-data w-full focus:"
            (click)="domainName.focus()"
            [ngClass]="{'border-red': !isChecking && (isDomainAvailable || signUpForm?.errors?.['signUpFail'])}"
          >
            <input
              #domainName
              type="text"
              (ngModelChange)="search$.next($event)"
              class="domain-input-width pl-24 pr-14 absolute w-full truncate focus:outline-none border-none bg-transparent min-w-0"
              formControlName="domain"
              placeholder="yourbusinessname"
            />

            <!-- <span class="text-gray-500">{{
              signUpForm?.get('domain')?.value
                ? '
              tinycard.to/'
                : 'tinycard.to/yourbusinessname'
            }}</span> -->
            <span class="text-primaryFont font-semibold">tinycard.to/</span>
            <!-- <Span class="domain-input-width inline-block leading-none">{{
              signUpForm?.get('domain')?.value
            }}</Span> -->
          </div>
          <ng-container *ngIf="signUpForm.get('domain')?.touched">
            <div class="icon-holder flex absolute right-0 items-center">
              <div *ngIf="isChecking" class="warning mr-4">
                <img
                  src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAOEAAADhCAMAAAAJbSJIAAAATlBMVEX///8AAAAnJyddXV3z8/O3t7fS0tKIiIhOTk5gYGDp6ekxMTErKyuQkJCxsbGoqKja2trj4+P4+PhoaGi+vr6Xl5fIyMg7Ozufn5+AgIAoxMODAAAEKElEQVR4nO2d65KiMBBGRfGGMo4z6ozv/6Jby1YtcgnSl5h0+53/SfqUCAl0OosFAAAAAIAu5bq+1+sydRjRqPbFP/ZV6lDi8FG0fKQOJgan4pFT6nD0+Sy6fKYOSJ1Dz/CQOiBtNkWfTeqQlNkODLepQ1JmNzDcpQ5JmePA8Jg6JGWWA8Nl6pCUgaF9YGgfGNoHhvaBoX1gaB8Y2geGuVCyX1YrGlbRvgpcVk1gNWsAJcOybjpaXTiNn3Bu37T8MprrGP62rc+M5pPcHoPb09urGO4f29/o7ac4d6NbkTvQMFx1O9D9FfsBkhUVDFfSDqa4DOKjKsoN+4JFoXm7GfZOVRQbykOYZNg7tX+p4YhgUZB6mKQc656mKDQcFSz0Hv3VaP8kRZnhuGChmA4wPgBFUWQYEFS8SkfioypKDEOCmo+LOjDGfEWBYUiwqHkyo4zfaiiKfMOgoOKNZvE45WUqsg3DgpwFwAT74EDzFLmGYUHG9J871CxFpqFwVBqywXiGLxUUDscyfLGgbEBOLsbLBUVDMvJpEghKBqXnRCURFAxLzmtLJCgYmJibmEyQPzQtvzShIH9wSo5wUkH+8PPzvBML8gOYm6ufXFAQwqz9FhkIxp3xS1cxSsRbtYlXolrEWnnL3yaoEVS8irq9ZiMYVpRtpOhPfRIKRnqLmZNgUFHyRwz8DRMJhhS/BD1+5SUY44tQZoKjit+iDr8zExxTlGUQ3HITHCr+CPv7yU1woCj9pldlJ9ibKsu3hnZeBqi/uufRTpZ/NL7KVu2FqvzxhU95bSZb31ppSrfmjnq45rVxv5Q86Id85WUHAAAAAAAAAAAAANTZbHfH5RyOu+3rKq7pRfUZ+gQ7zuE1pQEVozo9b97jFQUeFaP6eN52QPwynYpRBfZvPSF2sVXNqMLJSFPE/naiGFU4V2eauK/fNaNaM/taRzXUjCq4P+0JmjvI4kZ1Z/Z1j2qoGZX/39D//9D/vdT/8/AN5jT+56VvsLZ4g/Xhwv8aHwAAAAAAAAAAAACYx/e+J/d719zvP3S/h9T9PmD3e7nd78d3X1PBfV0M97VN3NencV9jyH2dKPe1vtzXa3Nfc8993UT3tS/d1y91X4PWfR1h97Wg3dfzdl+T3X1dffdnI7g/38L9GSXuz5lxf1aQ+/Oe3J/Z5f/cNf9n5/k//1AsmPsZlv7PIfV/lqz/84Df4Exn/+dy+z9bfXGWXh8Khn3FM7mDSToZBIxJr4Zhd/qvlYD1n3O7SudMeVUMHxYAS+VfsOHSXCXLmvUU0jFclHXT0Ur1JtMZgD2LUDL8S5VNQl8HRcNMgaF9YGgfGNoHhvaBoX1gaB8Y2geG9uHkYtiCkU9jDHpOlDXIeW32IOYmGoSWX2oSSo6wUebneZtlbq6+ZWbttwAAAAAAIPMH2tAzFTqcAPkAAAAASUVORK5CYII="
                  width="20px"
                  alt=""
                />
              </div>
              <div
                *ngIf="!isChecking && (isDomainAvailable || signUpForm?.errors?.['signUpFail'])"
                class="warning mr-4"
              >
                <app-formwarning></app-formwarning>
              </div>
              <div
                *ngIf="!isChecking && !isDomainAvailable && domain?.value && !signUpForm?.errors?.['signUpFail']"
                class="right mr-4"
              >
                <app-formright></app-formright>
              </div>
            </div>
          </ng-container>
        </div>
        <p
          *ngIf="(domain?.touched) &&  domain?.errors?.['required']"
          class="error not-italic font-normal text-xs leading-3 mt-1 absolute bottom-3"
        >
          Domain is required
        </p>
        <p
          *ngIf="(domain?.touched) &&  domain?.errors?.['pattern']"
          class="error not-italic font-normal text-xs leading-3 mt-1 absolute bottom-3"
        >
          Invalid Domain name
        </p>
        <p
          *ngIf="!domain?.errors?.['required'] && !domain?.errors?.['pattern'] && isDomainAvailable"
          class="error not-italic font-normal text-xs leading-3 mt-1 absolute bottom-3"
        >
          Domain not available
        </p>
      </div>
      <div class="input-field relative pb-9 error-active" *ngIf="!redirectMode">
        <div class="relative">
          <input
            class="input-data w-full"
            type="text"
            placeholder="Enter Email"
            [ngClass]="{'border-red': email?.errors?.['pattern']}"
            formControlName="email"
          />
          <div class="icon-holder flex absolute right-0 items-center">
            <div class="warning mr-4" *ngIf="email?.errors?.['pattern']">
              <app-formwarning></app-formwarning>
            </div>
            <div
              class="right mr-4"
              *ngIf="(email?.dirty || email?.touched) && !email?.invalid && !email?.errors?.['pattern'] && !signUpForm?.errors?.['signUpFail']"
            >
              <app-formright></app-formright>
            </div>
          </div>
        </div>
        <p
          *ngIf="(email?.touched) && email?.invalid && email?.errors?.['required'] && !signUpForm?.errors?.['signUpFail']"
          class="error not-italic font-normal text-xs leading-3 mt-1 absolute bottom-3"
        >
          Email is required
        </p>
        <p
          *ngIf="(email?.touched) && email?.invalid && email?.errors?.['pattern'] && !signUpForm?.errors?.['signUpFail']"
          class="error not-italic font-normal text-xs leading-3 mt-1 absolute bottom-3"
        >
          Please enter a valid email address
        </p>
        <p
          *ngIf="signUpForm?.errors?.['signUpFail']"
          class="error not-italic font-normal text-xs leading-3 mt-1 absolute bottom-3"
        >
          {{ signUpForm?.errors?.['signUpFail'] }}
        </p>
      </div>
    </form>
    <div class="flex flex-col">
      <button class="primary-button w-full" (click)="onSubmitSignUp()" *ngIf="!redirectMode">
        Continue
      </button>
      <div class="or-class text-center my-4 text-base not-italic font-normal" *ngIf="!redirectMode">
        or
      </div>
      <button class="google-button w-full" (click)="onSubmitGoogleSignIn()">
        <app-googleicon class="w-5 h-5 mr-6 mb-1"></app-googleicon>
        Sign in with Google
      </button>
    </div>
  </main>
</div>
